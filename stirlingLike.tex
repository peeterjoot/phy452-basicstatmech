%
% Copyright © 2013 Peeter Joot.  All Rights Reserved.
% Licenced as described in the file LICENSE under the root directory of this GIT repository.
%
% pick one:
%\input{../assignment.tex}
%\input{../blogpost.tex}
%\renewcommand{\basename}{stirlingLike}
%\renewcommand{\dirname}{notes/phy452/}
%%\newcommand{\dateintitle}{}
%%\newcommand{\keywords}{}
%
%
%\input{../peeter_prologue_print2.tex}
%
%\usepackage{tikz}
%
%\beginArtNoToc
%
%\generatetitle{Stirling like approximation}
\label{chap:stirlingLike}
%\section{Motivation}
%
If we only want an approximation for the logarithm, then we can get a Stirling like approximation in an easier way.  I found this derivation on a scrap in my old undergrad text \citep{kittel1980thermal} from the thermal/quantum course I took taught by Prof. Marjoribanks.
%Back in my undergrad days, I rarely took notes, since most of what we covered was in the text books.  The only notes I'd taken from the course where we did some thermodynamics was half an \(8\, 1/2 \times 11\) scrap paper with a simple Stirling like approximation for \(\ln N!\) (sitting in my old text
%
%\section{Guts}
%
First write the factorial in product form
\begin{equation}\label{eqn:stirlingLike:20}
N! = \prod_{k = 0}^{N-1} (N - k),
\end{equation}
so that it's logarithm is a sum
\begin{equation}\label{eqn:stirlingLike:40}
\ln N! = \sum_{k = 0}^{N-1} \ln( N - k ).
\end{equation}
%
We can now derivatives of both sides with respect to \(N\), ignoring the fact that \(N\) is a discrete variable.  For the left hand side, writing \(f = N!\), we have
\begin{equation}\label{eqn:stirlingLike:60}
\frac{d \ln f }{dN} = \inv{f} \frac{d f}{dN}.
\end{equation}
%
Now for the right hand side
\begin{equation}\label{eqn:stirlingLike:80}
\begin{aligned}
\frac{d}{dN} \sum_{k = 0}^{N-1} \ln( N - k )
&=
\sum_{k = 0}^{N-1} \inv{ N - k } \\
&\approx
\int_{0}^{N-1} \frac{dk}{
\mathLabelBox
[
   labelstyle={below of=m\themathLableNode, below of=m\themathLableNode, xshift=2cm},
   linestyle={out=180,in=-90, latex-}
]
{
N - k
}{\(u\)}
} \\
&= \int_{N}^{1} \frac{-du}{ u } \\
&= \ln N - \ln 1 = \ln N.
\end{aligned}
\end{equation}
%
Merging \eqnref{eqn:stirlingLike:60} and \eqnref{eqn:stirlingLike:80} into two differentials and integrating we have
\begin{equation}\label{eqn:stirlingLike:100}
\frac{df}{f} \approx \ln N dN.
\end{equation}
%
Observing that
\begin{equation}\label{eqn:stirlingLike:120}
(x \ln x -x)' = x \inv{x} + \ln x - 1 = \ln x,
\end{equation}
we have
\begin{equation}\label{eqn:stirlingLike:140}
\ln N! \approx N \ln N - N + C.
\end{equation}
%
Even though we are interested in large \(N\), we note that with \(N = 1\) we have
\begin{equation}\label{eqn:stirlingLike:160}
0 = -1 + C,
\end{equation}
%
but this is small compared to \(N\) for large \(N\), so we have
\boxedEquation{eqn:stirlingLike:180}{
\ln N! \approx \ln N^N - N.
}
%
Exponentiating, this is
\boxedEquation{eqn:stirlingLike:200}{
N! \approx N^N e^{-N}.
}
%
I think that our Professor's point at the time was that when we only care about the logarithm of \(N!\) we can get away with \eqnref{eqn:stirlingLike:180}, and can avoid the complexity and care required to do a proper \underlineAndIndex{Stirling approximation}.
%
%\EndArticle
